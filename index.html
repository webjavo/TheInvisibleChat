<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>ShadowChat</title>
<link rel="stylesheet" href="style.css" />
</head>

<body>
  <div id="auth-screen" class="center-box">
    <h2>The Invisible Chat</h2>

    <div class="profile-pic-container">
        <img id="profilePreview" src="default.jpg" alt="Profile" />
        <input type="file" id="profileInput" accept="image/*" onchange="loadProfile(event)">
    </div>

    <input id="email" type="email" placeholder="Email" />
    <input id="agentKey" type="text" placeholder="Agent Key" />

    <div class="oath-box">
        <input type="checkbox" id="oathCheck" />
        <label>I agree to the secret oath</label>
    </div>

    <button onclick="attemptLogin()">Enter</button>
</div>



<div id="chat-screen" class="hidden">
    <header>
        <h3>ShadowChat Room</h3>
        <button onclick="logout()">Logout</button>
    </header>

    <div id="messages"></div>

    <div id="controls">
        <button id="emojiBtn">ğŸ˜Š</button>
        <input id="msgBox" placeholder="Type message..." />
        <button onclick="sendMessage()">Send</button>
        <input type="file" id="fileInput" hidden onchange="sendSelectedFile()">
        <button onclick="document.getElementById('fileInput').click()">ğŸ“¸</button>
        <button onclick="startVoice()">ğŸ™ï¸</button>
    </div>

    <div id="emojiPanel" class="hidden"></div>
</div>

<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>

<script src="app.js"></script>
</body>
</html>
